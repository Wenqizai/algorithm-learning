## 关键路径

关键路径：是一个项目中的最长路径，即完成整个项目需要的最短时间。在关键路径分析中，我们通常使用关键路径方法来确定项目的关键路径。

关键路径即使求从**源点到汇点**路径长度最长的路径。源点，即没有入度边的顶点；汇点，即没有出度边的顶点。

关键路径的构造：顶点表示活动，边表示活动时间，路径长度表示路径上各活动持续时间之和。

> 关键路径有什么用呢？

当求出关键路径后，可以针对关键路径上的活动来适当减少活动时间，进而可以让整个项目的进度加快。但是注意减少活动时间也不能太多，否则此时的活动有可能发生变化不再是关键路径上的活动。

> 关键路径相关

如路径：j	—ai—>  k

e：early，最早

l：late，最晚

Ve(j)：表示时间 Vj 的最早发生时间

Vl(j)：表示时间 Vj 的最迟发生时间

e(i)：表示活动 ai 的最早开始时间

l(i)：表示活动 ai 的最迟开始时间

Wj,k；表示边 j -> k 上的权重

l(i) - e(i) ：表示完成活动 ai 的时间余量

- 计算

e(i) = Ve(j)

l(i) = Vl(k) - Wj,k

l(i) - e(i) = 0，表示活动 i 为关键路径上的活动

假如路径：i -> j -> k

Ve(j) = Max {Ve(i) + Wi,j}

​	即所有上一个顶点的最早发生时间加上边的权重中，选出最大的一条边。如果 i 为源点，则 Ve(i) = 0。

Vl(j) = Min {Vl(k) - Wj,k}，

​	即所有下一个顶点的最迟发生时间减去边的权重中，选出最小的一条边，如果 k 为汇点，则 Vl(k) = Ve(k)

> 求关键路径的步骤

1. 求 Ve(i) ，从源点 i 一直往前推进
2. 求Vl(i)，从汇点 k 一直往后推进，注意此时已经计算完所有顶点的 Ve
3. 求 e(i) 和 l(i)
4. 计算 l(i) - e(i)

